:root{
  --purple: #6a1b9a;
  --purple-700: #5b1488;
  --purple-100: #f3e8ff;
  --ink: #0f172a;
  --muted: #64748b;
  --bg: #ffffff;
  --soft: #f6f7fb;
  --line: #e7e7ef;
  --purple-accent: #8b5cf6; /* New accent color for header gradient */
}

/* Full-bleed container—tweak offset to fit your dashboard header spacing */
.qc-root{
  width:100%;
  height:calc(100vh - 120px); /* adjust this if your header is taller/shorter */
  min-height:620px;
}

/* Main shell */
.qc-shell{
  height:100%;
  display:flex;
  flex-direction:column;
  background: radial-gradient(1200px 700px at -10% -20%, #f2ecff 0%, #ffffff 45%, #ffffff 100%);
  border:1px solid var(--line);
  border-radius:16px;
  overflow:hidden;
}

/* Top bar */
.qc-topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 20px;
  background:#fff;
  border-bottom:1px solid var(--line);
}
.qc-top-left h2{
  margin:0; font-size:20px; color:var(--ink); letter-spacing:.2px;
}
.qc-chips{ display:flex; gap:8px; margin-top:8px; flex-wrap:wrap;}
.chip{
  font-size:12px; padding:6px 10px; border-radius:999px; background:var(--purple-100); color:var(--purple-700);
}
.chip-outline{
  background:#fff; color:var(--purple-700); border:1px solid var(--purple-700);
}
.chip-light{
  background:#f5f7fb; color:#475569; border:1px solid #e5e7eb;
}
.qc-top-actions .btn-outline{
  padding:10px 14px; border-radius:10px; border:1px solid var(--purple);
  color:var(--purple); background:#fff; cursor:pointer; font-weight:600;
}
.qc-top-actions .btn-outline:hover{ background:var(--purple-100); }

/* Grid layout – wider left panel; full height */
.query-chat-container{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:0;
  flex:1;
  min-height:0; /* allow children to scroll inside */
}

/* List panel */
.query-list{
  border-right:1px solid var(--line);
  background:#fafafa;
  display:flex; flex-direction:column; min-height:0;
}
.list-search{ padding:14px; border-bottom:1px solid var(--line); }
.list-search input{
  width:100%; padding:12px 14px; border:1px solid var(--line);
  border-radius:12px; background:#fff; outline:none; font-size:14px;
}
.list-items{ list-style:none; margin:0; padding:0; overflow:auto; flex:1; }
.chat-list-item{
  padding:14px 16px; cursor:pointer; transition:background .2s, box-shadow .2s;
  border-bottom:1px solid #f1f3f8;
}
.chat-list-item:hover{ background:#fafafa; }
.chat-list-item.active{ background:#fafafa; box-shadow: inset 0 0 0 1px #e1d9ff; }
.item-title{ font-weight:800; font-size:16px; color:black; }
.item-sub{ font-size:16px; color:#393939; margin-top:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.item-meta{ display:flex; justify-content:space-between; margin-top:8px; font-size:14px; color:#393939; }
.meta-left{text-transform:capitalize}

/* Chat panel */
.chat-main{ display:flex; flex-direction:column; background:#fff; min-height:0;padding: 20px; font-size: 18px; }

/* New query card */
.card{
  margin:20px; padding:18px; border:1px solid var(--line); border-radius:16px; background:#fff;
  box-shadow: 0 10px 30px rgba(20, 20, 43, 0.06);
}
.form-grid{
  display:grid; grid-template-columns: repeat(3, minmax(0, 1fr));  /* 3 columns */
  gap:16px; margin-bottom:12px;
}
.form-group label{
  display:block; font-size:12px; color:var(--muted); margin-bottom:6px;
}
.form-group select{
  width:100%; padding:12px 14px; border:1px solid var(--line);
  border-radius:12px; background:#fff; outline:none; font-size:14px;height: 46px;
}
.form-label{ display:block; font-size:12px; color:var(--muted); margin:8px 0 6px; }
.new-query-form textarea{
  width:100%; min-height:240px; padding:14px; border:1px solid var(--line); border-radius:12px; resize:vertical; font-size:14px;
}
.new-query-form.card{
  width: 100%;
  max-width: none;          /* remove any implicit max-width */
  margin: 20px;             /* outer breathing room */
}
.actions{ margin-top:14px; display:flex; justify-content:flex-end; }

/* Messages */
.thread-header{
  padding:16px 20px; border-bottom:1px solid var(--line); background:#fff;
}
.thread-title{ font-weight:800; color:#1f2937; font-size:18px; }
.thread-sub{ font-size:13px; color:#6b7280; margin-top:4px; }

.message-area{
  flex:1; overflow:auto; padding:20px; background: linear-gradient(180deg, #fbfbff 0%, #ffffff 100%);
  display:flex; flex-direction:column; gap:14px; min-height:0;
}
.bubble-row{ display:flex; align-items:flex-end; gap:12px; max-width:80%; }
.bubble-row.right{ margin-left:auto; flex-direction:row-reverse; }
.avatar{
  width:40px; height:40px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background: #ece9ff; color:#4c1d95; font-weight:800; font-size:14px;
  box-shadow: inset 0 0 0 1px #ddd;
}

.bubble{
  max-width:100%;
  padding:12px 14px;
  border-radius:16px;
  box-shadow: 0 8px 24px rgba(17, 24, 39, 0.08);
}
.bubble .bubble-text{ white-space:pre-wrap; color:#0f172a; font-size:15px; }
.bubble .bubble-meta{ font-size:12px; color:#6b7280; margin-top:6px; }

/* Bubble colors */
.bubble.trainee{
  background: linear-gradient(135deg, #f4e8ff 0%, #fef6ff 100%);
  border: 1px solid #ebddff;
}
.bubble.trainer{
  background: linear-gradient(135deg, #e9f2ff 0%, #f3faff 100%);
  border: 1px solid #dbeafe;
}

/* Composer */
.reply-box{
  display:flex; gap:12px; align-items:center;
  padding:16px 20px; border-top:1px solid var(--line); background:#fff;
}
.reply-box.sticky{ position:sticky; bottom:0; }
.reply-box input{
  flex:1; border:1px solid var(--line); border-radius:999px; padding:14px 16px; outline:none; font-size:14px;
}
.btn-primary{
  padding:14px 22px; border:none; border-radius:999px; cursor:pointer;
  background: #0ba3e6;
  color:#fff; font-weight:700; box-shadow: 0 10px 20px rgba(107, 33, 168, 0.2);font-size: 15px;
}
.btn-primary:hover{ filter: brightness(1.04); }

/* Reusable */
.btn-outline{
  padding:10px 14px; border-radius:10px; border:1px solid var(--purple);
  color:var(--purple); background:#fff; cursor:pointer; font-weight:600;
}
.btn-outline:hover{ background:var(--purple-100); }

/* Empty list state */
.empty-state{
  padding:28px; text-align:center; color:var(--muted);
}
.empty-emoji{ font-size:32px; margin-bottom:8px; }

/* Responsive */
@media (max-width: 1100px){
  .query-chat-container{ grid-template-columns: 320px 1fr; }
}
@media (max-width: 900px){
  .query-chat-container{ grid-template-columns: 1fr; }
  .query-list{ order:2; }
  .chat-main{ order:1; }
  .thread-header{ position:sticky; top:0; z-index:1; }
}

/* ===== Match header to sidebar purple ===== */
.qc-topbar{
  background: #393939;
  border-bottom: none;
  color: #fff;
  box-shadow: 0 4px 16px rgba(106, 27, 154, 0.2);
}
.qc-top-left h2{
  color:#fff;
}
.qc-topbar .chip{
  background: rgba(255,255,255,0.14);
  color:#fff;
  border: 1px solid rgba(255,255,255,0.28);
}
.qc-topbar .chip-outline{
  background: transparent;
  color:#fff;
  border: 1px solid rgba(255,255,255,0.5);
}
.qc-topbar .chip-light{
  background: rgba(255,255,255,0.12);
  color:#eef2ff;
  border: 1px solid rgba(255,255,255,0.18);
}
.qc-top-actions .btn-outline{
  border-color:#fff;
  color:#fff;
  background: transparent;
}
.qc-top-actions .btn-outline:hover{
  background: rgba(255,255,255,0.16);
}

.query-options {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  text-align: center;
}

.query-options {
  display: flex;
  flex-direction: column;
  height: 70vh; /* Use viewport height to center vertically */
  padding: 20px;
  text-align: center;
}

.options-row {
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: 20px; /* Space between buttons */
}

.btn-option {
  margin: 10px 0;
  padding: 10px 20px;
  font-size: 18px;
  background-color: #0ba3e6;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  width: 180px; /* Fixed width for uniformity */
}

.btn-option:hover {
  background-color: #393939;
}

.selected-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  text-align: center;
}

.btn-back {
  margin-top: 20px;
  padding: 10px 20px;
  font-size: 16px;
  background-color: #393939;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.btn-back:hover {
  background-color: #393939;
}

.loading-state {
  padding: 10px;
  text-align: center;
  color: #666;
}

.error-message {
  color: red;
  margin-top: 10px;
}

.query-chat-container {
  display: flex;
  flex-direction: row;
  width: 100%;
}

.query-list {
  flex: 1;
  max-width: 300px;
  overflow-y: auto;
}

.chat-main {
  flex: 2;
  padding: 10px;
}

/* === Feedback card: wider + centered ===================== */
.feedback-section.card {
  /* element has both classes in JSX: className="feedback-section card" */
  max-width: 900px;         /* was 600px */
  width: 96%;
  margin: 24px auto;        /* center horizontally with breathing room */
  padding: 24px;            /* a bit more inner space */
  border-radius: 16px;      /* match your card rounding */
}

/* Optional: headline spacing inside feedback card */
.feedback-section.card h3 {
  margin: 0 0 14px;
  font-size: 20px;
  font-weight: 800;
  color: var(--ink);
}

/* === Form layout: two columns on desktop ================= */
.feedback-form {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 16px;
}

/* Keep labels nice and tight */
.feedback-form .form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Inputs look consistent & roomy */
.feedback-form input[type="number"],
.feedback-form textarea {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid var(--line);
  border-radius: 12px;
  font-size: 14px;
  outline: none;
  background: #fff;
}

/* Make textarea span full width */
.feedback-form textarea {
  min-height: 120px;
  grid-column: 1 / -1; /* span both columns */
  resize: vertical;
}

/* Actions row right-aligned with even spacing */
.feedback-form .actions {
  grid-column: 1 / -1;
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 8px;
}

/* === Buttons: unified pill style for both ================= */
.btn-primary,
.btn-back {
  padding: 14px 22px;
  border: none;
  border-radius: 999px;           /* same pill radius */
  cursor: pointer;
  font-weight: 700;
  font-size: 15px;
  transition: transform .02s ease, filter .15s ease;
  box-shadow: 0 10px 20px rgba(17, 24, 39, 0.08);
}

.btn-primary {
  background: #0ba3e6;
  color: #fff;
}

.btn-back {
  background: #393939;            /* same style, different color */
  color: #fff;
}

.btn-primary:hover,
.btn-back:hover {
  filter: brightness(1.04);
}

.btn-primary:active,
.btn-back:active {
  transform: translateY(1px);
}

/* === Responsive: stack form on small screens ============== */
@media (max-width: 760px) {
  .feedback-section.card {
    padding: 18px;
    width: 94%;
  }
  .feedback-form {
    grid-template-columns: 1fr;   /* single column */
  }
  .feedback-form textarea,
  .feedback-form .actions {
    grid-column: 1 / -1;
  }
}

/* ---------- Concern Section Layout ---------- */
/* ===== Concern Section (Full Width + Centered Layout) ===== */

.concern-section.card {
  width: 100%;
  max-width: 1200px;        /* keeps layout balanced on large screens */
  margin: 30px auto;        /* center horizontally */
  padding: 30px;
  border: 1px solid #e5e7eb;
  border-radius: 16px;
  background: #ffffff;
  box-shadow: 0 10px 25px rgba(0,0,0,0.05);
}

/* Header */
.concern-section.card h3 {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 20px;
  color: #111827;
  text-align: center;        /* center title */
}

/* ===== New Concern Form ===== */
.new-concern-form {
  width: 100%;
  background: #fafafa;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.04);
}

.new-concern-form .form-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

.new-concern-form .form-group label {
  display: block;
  font-size: 13px;
  color: #6b7280;
  margin-bottom: 6px;
}

.new-concern-form .form-group input[type="text"],
.new-concern-form .form-group select,
.new-concern-form textarea {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid #d1d5db;
  border-radius: 10px;
  font-size: 14px;
  outline: none;
  background: #fff;
}

.new-concern-form textarea {
  grid-column: 1 / -1;
  min-height: 120px;
  resize: vertical;
}

.new-concern-form .actions {
  display: flex;
  justify-content: center;
  margin-top: 16px;
}

.new-concern-form .btn-primary {
  background: #0ba3e6;
  border: none;
  color: #fff;
  font-weight: 600;
  border-radius: 999px;
  padding: 12px 22px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.new-concern-form .btn-primary:hover {
  background: #098dc3;
}

/* ===== Concern List ===== */
.concern-section.card h4 {
  margin: 16px 0 12px;
  font-size: 18px;
  color: #111827;
}

.concern-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 18px;
}

.concern-card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
  cursor: pointer;
  transition: box-shadow 0.15s ease;
}

.concern-card:hover {
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
}

.concern-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.concern-title {
  font-weight: 700;
  color: #111827;
}

.chip {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  background: #eef2ff;
  color: #1d4ed8;
  border: 1px solid #dbe5ff;
}

.concern-meta {
  font-size: 13px;
  color: #6b7280;
  margin-top: 6px;
}

.priority-chip {
  text-transform: capitalize;
  font-weight: 700;
}
.priority-chip.low { color: #16a34a; }
.priority-chip.medium { color: #f59e0b; }
.priority-chip.high { color: #dc2626; }

/* ===== Selected Concern Details ===== */
.concern-detail {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  margin-top: 18px;
}

.concern-detail h5 {
  font-size: 16px;
  margin-bottom: 6px;
  color: #111827;
}

.comments-box {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 8px;
  max-height: 250px;
  overflow-y: auto;
}

.comment-item {
  background: #f3f4f6;
  border-radius: 8px;
  padding: 6px 10px;
  margin-bottom: 6px;
}

.reply-box.mt-3 {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.reply-box.mt-3 input {
  flex: 1;
  border: 1px solid #cbd5e1;
  border-radius: 999px;
  padding: 10px 14px;
}

.reply-box.mt-3 .btn-outline {
  border: 1px solid #0ba3e6;
  background: #fff;
  color: #0ba3e6;
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 600;
  cursor: pointer;
}

.reply-box.mt-3 .btn-outline:hover {
  background: #e0f6ff;
}

/* ===== Back Button ===== */
.btn-back {
  display: block;
  margin: 30px auto 0;
  background: #111827;
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 12px 22px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.2s;
}

.btn-back:hover {
  background: #000;
}

/* ===== Responsive ===== */
@media (max-width: 768px) {
  .new-concern-form .form-grid {
    grid-template-columns: 1fr;
  }

  .concern-section.card {
    padding: 20px;
  }
}
/* inline back button + sticky header inside detail */
.concern-detail-header{
  position: sticky;
  top: 0;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 0 10px;
  margin-bottom: 8px;
  background: #f9fafb;            /* matches .concern-detail bg */
  border-bottom: 1px solid #e5e7eb;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.btn-back-inline{
  border: none;
  background: #111827;
  color: #fff;
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 600;
  cursor: pointer;
  transition: filter .15s ease, transform .02s ease;
}
.btn-back-inline:hover{ filter: brightness(1.05); }
.btn-back-inline:active{ transform: translateY(1px); }

.concern-detail-header h5{
  margin: 0;
  font-size: 16px;
  font-weight: 700;
  color: #111827;
  flex: 1;                        /* title takes available space */
  text-align: center;             /* centers title between back + chip */
}

.chip.status-open{ background: #eef2ff; color:#1d4ed8; }
.chip.status-closed{ background:#ecfdf5; color:#047857; }

/* -------- Mobile-only responsive overrides for TraineeChat -------- */
@media (max-width: 900px) {
  /* let the container grow naturally on phones */
  .qc-root {
    height: auto !important;
    min-height: 100vh !important;
  }

  /* allow shell to show overflow (prevents header/card clipping) */
  .qc-shell {
    overflow: visible !important;
    border-radius: 12px !important;
    padding-bottom: 16px;
  }

  /* topbar: reduce height & padding so it doesn't cover content */
  .qc-topbar {
    padding: 10px 12px !important;
    display: flex;
    gap: 10px;
    align-items: center;
  }
  .qc-top-left h2 {
    font-size: 16px !important;
    margin: 0;
  }

  /* stack the main layout vertically */
  .query-chat-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 0;
    padding: 0 10px 12px 10px;
    min-height: 0; /* allow inner scrolling */
  }

  /* list becomes a top collapsible area with scroll inside */
  .query-list {
    order: 2;
    width: 100%;
    max-height: 220px; /* keeps list usable but limits its height */
    overflow-y: auto !important;
    border-right: none;
    border-bottom: 1px solid var(--line);
    background: transparent;
    padding-bottom: 8px;
  }
  .list-search { padding: 10px 8px; }
  .list-search input { padding: 10px 12px; font-size: 14px; }

  /* main chat area flows first on mobile */
  .chat-main {
    order: 1;
    flex: 1 1 auto;
    padding: 12px !important;
    min-height: 0;
  }

  /* message area: allow vertical scroll within the chat panel */
  .message-area {
    padding: 12px !important;
    max-height: calc(100vh - 260px); /* keeps message area visible above reply box */
    overflow-y: auto;
  }

  /* compress bubbles and fonts */
  .bubble .bubble-text { font-size: 14px !important; }
  .bubble { padding: 10px 12px !important; border-radius: 14px !important; }

  /* make reply box sticky but inside screen bounds */
  .reply-box {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 30;
    padding: 10px !important;
    background: rgba(255,255,255,0.96);
    border-top: 1px solid var(--line);
    gap: 8px;
  }
  .reply-box input { padding: 12px 14px; font-size: 14px; border-radius: 999px; }

  /* shrink controls and buttons */
  .btn-primary, .btn-back, .btn-outline, .btn-option {
    padding: 10px 14px !important;
    font-size: 14px !important;
  }

  /* feedback / concern forms: full width stack */
  .feedback-form, .new-concern-form .form-grid {
    grid-template-columns: 1fr !important;
    gap: 12px;
  }

  /* concern list becomes vertical cards with spacing */
  .concern-list { grid-template-columns: 1fr !important; }

  /* ensure empty / center option UI fits */
  .query-options { height: auto; padding: 20px 10px; gap: 12px; }
  .options-row { flex-wrap: wrap; gap: 12px; }

  /* reduce margins for cards to avoid side clipping */
  .card, .new-query-form.card, .concern-section.card, .feedback-section.card {
    margin: 12px !important;
    width: calc(100% - 24px) !important;
  }
}

/* Fine tune for very small screens */
@media (max-width: 420px) {
  .qc-top-left h2 { font-size: 15px !important; }
  .list-search input, .reply-box input { font-size: 14px !important; }
  .message-area { max-height: calc(100vh - 220px); }
  .query-list { max-height: 180px; }
  .bubble .bubble-text { font-size: 13px !important; }
  .btn-option { width: 140px; padding: 8px 10px !important; font-size: 14px; }
}
/* Move heading down slightly on small screens */
@media (max-width: 900px) {
  /* give the topbar more visual breathing room */
  .qc-topbar {
    padding-bottom: 14px !important;
  }

  /* push the "Select an Option" block lower inside the card */
  .query-options {
    padding-top: 26px !important;
    padding-bottom: 18px !important;
  }

  /* if the h3 itself needs more distance from the topbar */
  .query-options h3 {
    margin-top: 8px !important;
    margin-bottom: 14px !important;
    font-size: 20px !important;
  }
}

/* fine tune for very small phones */
@media (max-width: 420px) {
  .query-options {
    padding-top: 20px !important;
  }
  .query-options h3 { font-size: 18px !important; margin-top: 6px !important; }
}
.query-options {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 20px 10px;
  height: 220px; /* or whatever card height you prefer */
}
/* Move ONLY the top heading down on small screens */
@media (max-width: 900px) {
  .qc-top-left {
    margin-top: 18px !important; /* pushes heading downward */
  }

  .qc-top-left h2 {
    font-size: 18px !important;  /* slightly smaller so it breathes */
  }
}

/* Strong mobile override — push top heading down and avoid overlap with mobile toggle */
@media (max-width: 900px) {
  /* push the whole topbar content down */
  .qc-topbar {
    padding-top: 16px !important;   /* larger space above heading */
    padding-bottom: 10px !important;
    align-items: flex-start !important;
  }

  /* extra margin on the left block that contains the heading */
  .qc-top-left {
    margin-top: 12px !important;
    margin-left: 6px !important;
  }

  /* slightly reduce heading size and ensure it wraps */
  .qc-top-left h2 {
    font-size: 17px !important;
    line-height: 1.2 !important;
    margin: 0 !important;
  }

  /* move the mobile sidebar toggle (if present) down so it doesn't overlap the heading */
  .mobile-sidebar-toggle,
  .mobile-sidebar-toggle * {
    top: 8px !important;
    transform: translateY(0) !important;
    z-index: 60 !important;
  }
}

/* extra push for very small phones */
@media (max-width: 420px) {
  .qc-topbar { padding-top: 14px !important; }
  .qc-top-left { margin-top: 14px !important; }
  .qc-top-left h2 { font-size: 16px !important; }
}
/* ========================
   Login Activity - mobile safe spacing
   Put at end of your global CSS file (index.css) or component CSS
   ======================== */

/* base spacing for this page (desktop remains same) */
.login-activity {
  padding-top: 18px; /* small breathing room on desktop */
  box-sizing: border-box;
}

/* chart container responsive tweak */
.login-activity .bg-white > div[style] {
  /* targets the inline style div that wraps Chart (the one with height: "300px") */
  max-width: 100%;
}

/* --- Mobile overrides: avoid top overlap with sidebar toggle --- */
@media (max-width: 900px) {
  /* push the whole page DOWN so headings are not under the topbar or toggle */
  .login-activity {
    padding-top: 80px !important; /* safe area — adjust number up/down if needed */
    padding-left: 12px !important;
    padding-right: 12px !important;
  }

  /* make sure immediate headings / first paragraphs have margin */
  .login-activity > .bg-white,
  .login-activity > p:first-child,
  .login-activity h2,
  .login-activity h1 {
    margin-top: 10px !important;
  }

  /* reduce padding inside cards on mobile */
  .login-activity .p-6 {
    padding: 14px !important;
  }

  /* shrink the chart height on mobile so it fits above reply/composer */
  .login-activity .bg-white .chart-wrapper,
  .login-activity .bg-white > div[style] {
    height: 220px !important;
  }

  /* Move the mobile sidebar toggle out of the way (if your app uses a different class, inspect it and replace selector) */
  .mobile-sidebar-toggle,
  .mobile-sidebar-toggle * {
    position: fixed !important;
    top: 12px !important;
    left: 12px !important;
    transform: translateY(0) !important;
    z-index: 9999 !important;
    pointer-events: auto !important;
  }

  /* Reduce toggle size if it is big */
  .mobile-sidebar-toggle {
    width: 36px !important;
    height: 36px !important;
    border-radius: 50% !important;
  }
}

/* very small phones */
@media (max-width: 420px) {
  .login-activity { padding-top: 94px !important; }
  .login-activity .bg-white > div[style] { height: 180px !important; } /* smaller chart */
  .login-activity h2 { font-size: 18px !important; }
}
/* =========================
   SOPs page - mobile safe spacing & segmented control tweaks
   Paste at the END of your CSS file so it overrides other rules
   ========================= */

.sop-page {
  box-sizing: border-box;
  padding-top: 18px; /* desktop breathing room */
}

/* Segmented buttons (tabs) primary styling - keep but responsive */
.sop-page .segmented {
  display: inline-flex;
  gap: 6px;
  background: transparent;
}
.sop-page .seg-btn {
  padding: 8px 16px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.08);
  background: #ffffff;
  cursor: pointer;
  font-weight: 600;
}
.sop-page .seg-btn.active {
  background: #0ba3e6;
  color: #fff;
  border-color: #0ba3e6;
}

/* --- MOBILE: avoid top overlap with sidebar toggle; stack & compress --- */
@media (max-width: 900px) {
  /* push the whole SOP content down so the top toggle won't overlap */
  .sop-page {
    padding-top: 84px !important; /* safe area - increase if your toggle is taller */
    padding-left: 12px !important;
    padding-right: 12px !important;
  }

  /* reduce space around the segmented controls and allow wrapping */
  .sop-page .segmented {
    display: flex !important;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
  }
  .sop-page .seg-btn {
    padding: 8px 12px !important;
    font-size: 14px !important;
    min-width: 92px;
    text-align: center;
  }

  /* card grid: single column and smaller gaps */
  .sop-page > .card-grid,
  .sop-page > div[style*="display: grid"] {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }

  /* inner card spacing: smaller on mobile */
  .sop-page .sop-card,
  .sop-page .lib-card {
    padding: 12px !important;
    border-radius: 12px !important;
  }

  /* Move the mobile sidebar toggle out of the way (if your toggle class differs inspect and replace) */
  .mobile-sidebar-toggle,
  .mobile-sidebar-toggle * {
    position: fixed !important;
    top: 10px !important;
    left: 10px !important;
    z-index: 9999 !important;
    transform: translateY(0) !important;
  }
  .mobile-sidebar-toggle {
    width: 36px !important;
    height: 36px !important;
    border-radius: 50% !important;
  }
}

/* Very small phones: slightly more top spacing and smaller seg buttons */
@media (max-width: 420px) {
  .sop-page { padding-top: 100px !important; }
  .sop-page .seg-btn { padding: 6px 10px !important; font-size: 13px !important; min-width: 80px; }
  .sop-page .sop-card, .sop-page .lib-card { padding: 10px !important; }
}

/* ===== Root height control ===== */
.qc-root {
  height: 100%;
}

.qc-shell {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
.qc-topbar {
  flex: 0 0 auto;
  min-height: 56px;
}
.query-chat-container {
  height: 100%;
  display: flex;
  overflow: hidden;
}

/* Left query list */
.query-list {
  width: 320px;
  min-width: 260px;
  max-width: 360px;
  height: 100%;
  overflow-y: auto;
}

/* Right chat area */
.chat-main {
  flex: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Messages scroll only here */
.message-area {
  flex: 1;
  overflow-y: auto;
  padding-bottom: 8px;
}

/* Reply stays visible */
.reply-box {
  flex: 0 0 auto;
}
.concern-section {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.concern-section > * {
  flex: 0 0 auto;
}

/* Allow scrolling for long content */
.concern-list,
.concern-detail {
  flex: 1;
  overflow-y: auto;
}
/* ===============================
   Short screen fixes
   =============================== */

@media (max-height: 768px) {
  .qc-topbar h2 {
    font-size: 18px;
  }

  .query-options h3,
  .feedback-section h3,
  .concern-section h3 {
    font-size: 16px;
  }

  .btn-option {
    padding: 8px 14px;
    font-size: 14px;
  }
}

@media (max-height: 552px) {
  .qc-topbar h2 {
    font-size: 16px;
  }

  .btn-option {
    padding: 6px 12px;
    font-size: 13px;
  }

  textarea {
    min-height: 60px;
  }
}
/* Concern back button fix */
.concern-back {
  display: flex;
  justify-content: center;
  margin-top: 16px;
}

.btn-back-inline {
  width: auto !important;
  min-width: unset;
  padding: 8px 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}
